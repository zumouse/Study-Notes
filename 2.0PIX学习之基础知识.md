# PIX学习之基础知识

## 1.硬件基础知识

### 1.0 数据传输之串口-并口

```
1.并行通讯：同一时刻，可以传输多个bit位的信号，有多少个信号位就需要多少根信号线。
2.串行通讯：同一时刻，只能传输一个bit位的信号，只需要一根信号线。
比如，当需要传输1字节信息时，并行通讯需要8根信号线，
1.并行通讯的效率高，但是对信号线路要求也很高，一般应用于快速设备之间采用并行通信，譬如CPU 与存储设备、存储器与存储器、主机与打印机等都采用并行通讯。
2.串行通讯效率较低，但是对信号线路要求低，抗干扰能力强，同时成本也相对较低，一般用于与计算机与外部设备，或者长距离的数据传输。
3、用途不同：
串口现在只用作控制接口，并口多用作打印机、扫描仪等接口。
串口一般指硬件上的COM接口.一般的PC主板都提供两个串口
而并口.一般指指打印接口!,,
通常并口是两排除23针
而对应的串口是两排九针
```

```
25针并行口
插口的针脚功能：
针脚 功能 针脚 功能
1 选通 (STROBE低电平有效) 10 确认 (ACKNLG低电平有效)
2 数据位0 (DATAO) 11 忙 (BUSY)
3 数据位1 (DATA1) 12 缺纸 (PE)
4 数据位2 (DATA2) 13 选择 (SLCT)
5 数据位3 (DATA3) 14 自动换行 (AUTOFEED低电平有效)
6 数据位4 (DATA4) 15 错误(ERROR低电平有效)
7 数据位5 (DATA5) 16 初始化(INIT低电平有效)
8 数据位6 (DATA6) 17 选择输入 (SLCTIN低电平有效)
9 数据位7 (DATA7) 18-25 信号地(GND)
```

25针并行口：

<img src=".\picture\并行口.png" style="zoom:50%;" />

<img src=".\picture\并行口2.png"  />

```
25针串行口的针脚功能：
1 未用
2 发出数据(TXD) 
3 接受数据(RXD) 
4 请求发送(RTS) 
5 清除发送(CTS) 
6 数据准备好(DSR) 
7 信号地线路 (SG) 
8 载波检测 (DCD) 
9 发送返回(+) 
10 未用 
11 数据发送(一) 
12-17 未用 
18 数据接收(+)
19 未用 
20 数据终端准备好比(DTR)
21 未用
22 振铃指示精神 (RI)
23-24 未用
25 接收返回(一)
9针串行口的针脚功能：
1 载波检测(DCD) 
2 接受数据(RXD) 
3 发出数据(TXD) 
4 数据终端准备好(DTR) 9 振铃指示(RI)
5 信号地线(SG) 
6 数据准备好(DSR)
7 请求发送(RTS)
8 清除发送(CTS)
```

9针串口：

![](.\picture\串行口1.png)

D型9针串口:

![](.\picture\串行口2.png)

串口、COM口、UART口, TTL、RS-232、RS-485区别详解:

https://blog.csdn.net/wb790238030/article/details/83502823

### 1.1 数据传输之双绞线

<img src=".\picture\双绞线.png" style="zoom:50%;" />

### 1.2 数据传输之现场总线

```
总线：总线将分散的有通信能力的测量控制设备作为网络节点，连接成能相互沟通信息，共同完成自控任务的控制网络
```

<img src=".\picture\现场总线.jpg" style="zoom: 80%;" />

减少了接线与安装：便于维护性

<img src="C:\Users\zymouse\Desktop\PIX\picture\现场总线和历史的数据传输比较.png" style="zoom:67%;" />

### 1.3 PIX数据传输之CAN总线

#### 高速CAN总线--IOS11898标准

负责--发动机转速，转向⻆，油⻔踏板位置， 油压等敏感信息

#### 低速CAN总线--IOS11519标准

负责--向⻋⻔，⻋灯等⾮重要的设备

```
BMS：电池管理器
BMS电池组--每个电池组包括26节电池，两路CAN（双路备份）
BMS电池包--每个电池包包括3个电池组
BMS电池匣--每个电池匣包括3个电池包，电池包串联每次更换以电池匣为单位
BMS电池箱--包括4路电池匣，并联
VCU：整车控制器
MCU：微控制单元--单片微型计算机--单片机
ECU：电子控制单元--行车电脑
EHB：电子液压制动系统
OBD Ⅱ：随车诊断装置[ON-BOARD DIAGNOSTICSⅡ]
ABC：主动车身稳定控制系统
EDU：引擎可调度单元
EPS：电子助力转向系统
ESP：电子稳定程序
ASR：驱动防滑系统，又称牵引力控制系统
```

```
1.0 EPS：电子助力转向系统
该系统由电动助力机直接提供转向助力
2.0 ESP：电子稳定程序
	它通过对从各传感器传来的车辆行驶状态信息进行分析，然后向ABS、ASR发出纠偏指令，来帮助车辆维持动态平衡。
	ESP可以使车辆在各种状况下保持最佳的稳定性，在转向过度或转向不足的情形下，对单个轮胎刹车来纠正。为什么ESP需要手动打开
	ESP最重要的特点就是它的主动性，如果说ABS是被动地作出反应，那么ESP却可以做到防患于未然。
```



#### CAN 2.0 协议

```
只定义了七层模[OSI]中的最底两层——物理层和数据链路层
应⽤层需要⽤户⾃⾏定义或选择，⽐如J1939和CANopen
七层模[OSI]:
应用层+表示层+会话层+传输层+网络层+数据链路层+物理层
```

<img src=".\picture\七层模型-OSI.png" style="zoom:67%;" />



```
CAN总线—底层标准:
遵循Bosch公司制定的--CAN2.0A/B规范和ISO11989国际标准
物理层定义了--IOS11898和IOS11519两个标准
	
CAN2.0A/B规范--其中
	CAN2.0A⽀持CAN标准报⽂格式
	CAN2.0B⽀持CAN标准报⽂格式和扩展报⽂格式
```

#### CAN总线--物理层

```
1.0 PIX双绞线数据传输：
	两根线分别是：CAN_H 和 CAN_L[H-高电压：：L-低电压]
	设备节点分别连接着双绞线的两根线，实现[差分信号]的数据传输
	每个节点都有一个CAN收发器芯片，该芯片主要用于在微控制器和CAN⽹络之间的逻辑信号和差分信号的转换
2.0 
```

```
[差分信号]
CAN收发器芯片-数据收发:
    [逻辑电平]
    [数字电平]
CAN收发器芯片-信号表示:
    [显性电平]
    [隐性电平]
```

#### CAN总线-双绞线-两种解法

低速CAN--接⼊CAN_H和CAN_L两条导向中

高速CAN--接在双绞线两末端，两头电阻的两头分别接在CAN_H和CAN_L上。

![](.\picture\双绞线上两种电阻接法.png)